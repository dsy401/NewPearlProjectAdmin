(this.webpackJsonpnewpearlprojectadmin=this.webpackJsonpnewpearlprojectadmin||[]).push([[0],{165:function(e,t,a){e.exports={card:"StaffInfo__card__1R6r_",edit:"StaffInfo__edit__2lm4r"}},212:function(e,t,a){e.exports={login:"Login__login__16MwG",loginForm:"Login__loginForm__XYJZW",loginFormButton:"Login__loginFormButton__3H_jT"}},316:function(e){e.exports=JSON.parse('{"Host":"http://thrivingbuilding.co.nz","TestHost":"http://localhost:5000"}')},324:function(e,t,a){e.exports={user:"DashboardBody__user__1xsQU"}},331:function(e,t,a){e.exports={add:"Brand__add__3CsGs"}},334:function(e,t,a){e.exports=a(672)},339:function(e,t,a){},340:function(e,t,a){},672:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(11),o=a.n(l),r=(a(339),a(5)),s=a(6),c=a(9),d=a(8),u=a(10),m=(a(340),a(212)),p=a.n(m),h=a(680),g=a(678),f=a(683),b=a(4),E=a(37),y=a(120),v=a.n(y);v.a.create({timeout:15e3,headers:{"Content-Type":"application/x-www-form-urlencoded"}}),v.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),v.a.interceptors.response.use((function(e){return e.data}),(function(e){return"Unauthorized Access"!==e.response.data&&401!==e.response.status||(localStorage.removeItem("token"),window.location="/login",alert("Login timeout, plz login again")),Promise.reject(e.response.data)}));for(var S=v.a,C=a(316).Host,w={Login:C+"/api/login",GetLottery:C+"/api/lottery",DeleteLottery:function(e){return C+"/api/lottery/"+e},AddLottery:C+"/api/lottery",UpdateLottery:function(e){return C+"/api/lottery/"+e},GetWebClient:C+"/api/contact",DeleteWebClient:function(e){return C+"/api/contact/"+e},TokenValidate:C+"/api/token_validate",GetLocalClient:C+"/api/local_client",DeleteLocalClient:function(e){return C+"/api/local_client/"+e},UpdateLocalClient:function(e){return C+"/api/local_client/"+e},AddLocalClient:C+"/api/local_client",GetStaff:C+"/api/staff",UpdateStaff:function(e){return C+"/api/staff/"+e},GetBrands:C+"/api/brand",PostBrands:C+"/api/brand",GetProductCategory:C+"/api/product_category",UploadImage:C+"/api/upload_image",UpdateProductCategory:function(e){return C+"/api/product_category/"+e},FirstProductCategory:function(e){return C+"/api/product_category/"+e},DeleteBrand:function(e){return C+"/api/brand/"+e},UpdateBrand:function(e){return C+"/api/brand/"+e},GetProducts:function(e){return C+"/api/product/"+e},CHANGEPASSWORD:function(e){return C+"/api/change_password/"+e},AddProduct:C+"/api/product",UpdateProduct:function(e){return C+"/api/product/"+e},AddStaff:C+"/api/staff",DeleteStaff:function(e){return C+"/api/staff/"+e},DeleteProduct:function(e){return C+"/api/product/"+e},AddNews:C+"/api/news",GetNews:C+"/api/news",DeleteNews:function(e){return C+"/api/news/"+e},GetsNewsContent:function(e){return C+"/api/news/"+e},UpdateNews:C+"/api/news",GetAbout:C+"/api/about",PostAbout:C+"/api/about",DeleteAbout:function(e){return C+"/api/about/"+e},UpdateAbout:function(e){return C+"/api/about/"+e},SendEmailToLocalClient:C+"/api/contact/local_client",SendTestEmailToPeople:C+"/api/contact/local_client/test",GetLocalClientByPageNumber:function(e){return C+"/api/local_client/pagination/"+e}},L=function(e){return btoa(e+":unused")},_=function(e){return S({url:w.Login,method:"POST",data:e})},O=function(e,t){return S({url:w.CHANGEPASSWORD(t),method:"POST",data:e,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},k=function(e){return S({url:w.DeleteLottery(e),method:"DELETE",headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},P=function(){return S({url:w.GetWebClient,method:"GET",headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},M=function(e){return S({url:w.DeleteWebClient(e),method:"Delete",headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},D=function(){return S({url:w.TokenValidate,method:"GET",headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},j=function(e){return S({url:w.DeleteLocalClient(e),method:"DELETE",headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},I=function(){return S({url:w.GetStaff,method:"GET"})},F=function(e,t){return S({url:w.UpdateStaff(e),method:"PUT",headers:{Authorization:" Basic "+L(localStorage.getItem("token"))},data:t})},A=function(){return S({url:w.GetBrands,method:"GET"})},T=function(e){return S({headers:{Authorization:" Basic "+L(localStorage.getItem("token"))},url:w.PostBrands,method:"POST",data:e})},V=function(){return w.UploadImage},x=function(e){return S({method:"GET",url:w.FirstProductCategory(e)})},B=function(e){return S({method:"DELETE",url:w.DeleteBrand(e),headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},N=function(e,t){return S({method:"PUT",url:w.UpdateBrand(e),headers:{Authorization:" Basic "+L(localStorage.getItem("token"))},data:t})},q=function(e){return S({method:"GET",url:w.GetProducts(e)})},H=function(e){return S({method:"POST",data:e,url:w.AddProduct,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},R=function(e,t){return S({method:"PUT",data:t,url:w.UpdateProduct(e),headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},U=function(e){return S({method:"POST",url:w.AddStaff,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))},data:e})},z=function(e){return S({method:"DELETE",url:w.DeleteStaff(e),headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},G=function(e){return S({method:"DELETE",url:w.DeleteProduct(e),headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},W=function(e){return S({method:"POST",url:w.AddNews,data:e,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},$=function(){return S({method:"GET",url:w.GetNews})},K=function(e){return S({method:"DELETE",url:w.DeleteNews(e),headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},Y=function(e){return S({method:"GET",url:w.GetsNewsContent(e)})},Q=function(e){return S({method:"PUT",data:e,url:w.UpdateNews,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},J=function(){return S({method:"GET",url:w.GetAbout})},X=function(e){return S({method:"POST",url:w.PostAbout,data:e,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},Z=function(e){return S({method:"DELETE",url:w.DeleteAbout(e),headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},ee=function(e,t){return S({method:"PUT",url:w.UpdateAbout(e),data:t,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},te=function(e){return S({method:"POST",url:w.SendEmailToLocalClient,data:e,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},ae=function(e){return S({method:"POST",url:w.SendTestEmailToPeople,data:e,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},ne=function(e){return S({method:"GET",url:w.GetLocalClientByPageNumber(e),headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})},ie=a(78),le=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={height:window.innerHeight,isRedirect:!1},a.componentDidMount=function(){window.addEventListener("resize",(function(){a.setState({height:window.innerHeight})}))},a.componentWillUnmount=function(){window.removeEventListener("resize",(function(){console.log("window resize event removed")}))},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var a=new FormData;a.append("username",t.username),a.append("password",t.password),_(a).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("name",e.data.user_name),localStorage.setItem("user_id",e.data.user_id),window.location="/dashboard"})).catch((function(e){alert(e.error_message)}))}}))},localStorage.getItem("token")&&(window.location="/dashboard"),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.height;return i.a.createElement("div",{style:{height:t},className:p.a.login},i.a.createElement("div",{className:p.a.loginForm},i.a.createElement(h.a.Title,{style:{textAlign:"center"},level:4},"Thriving Building System"),i.a.createElement(g.a,{onSubmit:this.handleSubmit},i.a.createElement(g.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(i.a.createElement(f.a,{prefix:i.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),i.a.createElement(g.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(i.a.createElement(f.a,{prefix:i.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),i.a.createElement(g.a.Item,null,i.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"loginFormButton"},"Log in")))))}}]),t}(n.Component),oe=g.a.create({name:"normal_login"})(le),re=Object(ie.g)(oe),se=a(60),ce=function(){return i.a.createElement("div",null,"This page does not exist.")},de=a(100),ue=function(e){var t=e.component,a=Object(de.a)(e,["component"]);return i.a.createElement(ie.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?i.a.createElement(t,e):i.a.createElement(ie.a,{to:"/login"})}}))},me=function(e,t,a,l){return function(n){function o(){var e,n;Object(r.a)(this,o);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(d.a)(o)).call.apply(e,[this].concat(l)))).componentDidMount=function(){t(a)},n}return Object(u.a)(o,n),Object(s.a)(o,[{key:"render",value:function(){return i.a.createElement(e,Object.assign({},this.props,{name:l}))}}]),o}(n.Component)},pe=a(21),he=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){a.props.history.push("/dashboard/home")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null)}}]),t}(n.Component),ge=a(673),fe=a(220),be=a(159),Ee=a(674),ye=a(324),ve=a.n(ye),Se=a(681),Ce=function(e){return i.a.createElement(Se.a,{title:"Log out Confirmation",visible:e.visible,onOk:e.confirm,onCancel:e.hideModal,okText:"Confirm",cancelText:"Cancel"},i.a.createElement(h.a.Title,{level:3},"Are sure to log out"))},we=ge.a.Header,Le=ge.a.Content,_e=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={logoutModalVisible:!1},a.openLogoutModal=function(){a.setState({logoutModalVisible:!0})},a.DropDownMenu=i.a.createElement(fe.a,null,i.a.createElement(fe.a.Item,{key:"0"},i.a.createElement("a",{onClick:function(){a.props.history.push("/dashboard/changepassword")}},"Change Password")),i.a.createElement(fe.a.Divider,null),i.a.createElement(fe.a.Item,{key:"3",onClick:a.openLogoutModal},"Log Out")),a.hideLogoutModal=function(){a.setState({logoutModalVisible:!1})},a.LogoutHandler=function(){localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("user_id"),window.location="/login"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(n.Fragment,null,i.a.createElement(we,{style:{background:"#fff"}},i.a.createElement("h1",{style:{float:"left",display:"inline-block"}},this.props.title),i.a.createElement("div",{style:{float:"right",display:"inline-block"}},i.a.createElement(be.a,{overlay:this.DropDownMenu,trigger:["click"]},i.a.createElement("div",{className:ve.a.user},i.a.createElement(Ee.a,{icon:"user"})," ",localStorage.getItem("name")," ",i.a.createElement(b.a,{type:"down"}))))),i.a.createElement(Le,{style:{margin:"24px 16px 0",overflow:"initial"}},i.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:"82vh"}},this.props.children)),i.a.createElement(Ce,{hideModal:this.hideLogoutModal,confirm:this.LogoutHandler,visible:this.state.logoutModalVisible}))}}]),t}(n.Component),Oe=Object(ie.g)(_e),ke=a(103),Pe=a(54),Me=a(49),De=a(218),je=a.n(De),Ie=a(64),Fe=a(99),Ae=a.n(Fe),Te=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(Me.ChartCard,{title:"\u9500\u552e\u989d",action:i.a.createElement(Ie.a,{title:"\u6307\u6807\u8bf4\u660e"},i.a.createElement(b.a,{type:"info-circle-o"})),total:function(){return i.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(Me.yuan)(126560)}})},footer:i.a.createElement(Me.Field,{label:"\u65e5\u5747\u9500\u552e\u989d",value:Ae()(12423).format("0,0")}),contentHeight:46},i.a.createElement("span",null,"\u5468\u540c\u6bd4",i.a.createElement(je.a,{flag:"up",style:{marginLeft:8,color:"rgba(0,0,0,.85)"}},"12%")),i.a.createElement("span",{style:{marginLeft:16}},"\u65e5\u73af\u6bd4",i.a.createElement(je.a,{flag:"down",style:{marginLeft:8,color:"rgba(0,0,0,.85)"}},"11%")))}}]),t}(n.Component),Ve=a(74),xe=a.n(Ve),Be=[],Ne=(new Date).getTime(),qe=0;qe<20;qe+=1)Be.push({x:xe()(new Date(Ne+864e5*qe)).format("YYYY-MM-DD"),y:Math.floor(100*Math.random())+10});for(var He=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(Me.ChartCard,{title:"\u8bbf\u95ee\u91cf",action:i.a.createElement(Ie.a,{title:"\u6307\u6807\u8bf4\u660e"},i.a.createElement(b.a,{type:"info-circle-o"})),total:Ae()(8846).format("0,0"),footer:i.a.createElement(Me.Field,{label:"\u65e5\u8bbf\u95ee\u91cf",value:Ae()(1234).format("0,0")}),contentHeight:46},i.a.createElement(Me.MiniBar,{height:46,data:Be}))}}]),t}(n.Component),Re=[],Ue=0;Ue<12;Ue+=1)Re.push({x:"".concat(Ue+1,"\u6708"),y:Math.floor(1e3*Math.random())+200});for(var ze=function(){return i.a.createElement(Me.Bar,{height:200,title:"\u9500\u552e\u989d\u8d8b\u52bf",data:Re})},Ge=[],We=0;We<20;We+=1)Ge.push({x:(new Date).getTime()+18e5*We,y1:Math.floor(100*Math.random())+1e3,y2:Math.floor(100*Math.random())+10});var $e=function(){return i.a.createElement(Me.TimelineChart,{height:200,data:Ge,titleMap:{y1:"\u5ba2\u6d41\u91cf",y2:"\u652f\u4ed8\u7b14\u6570"}})},Ke=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(Oe,{title:this.props.name},i.a.createElement("div",null,i.a.createElement(ke.a,{type:"flex",justify:"space-between"},i.a.createElement(Pe.a,{span:5},i.a.createElement(Te,null)),i.a.createElement(Pe.a,{span:5},i.a.createElement(Te,null)),i.a.createElement(Pe.a,{span:5},i.a.createElement(Te,null)),i.a.createElement(Pe.a,{span:5},i.a.createElement(He,null)),i.a.createElement(Pe.a,{style:{marginTop:20},span:24},i.a.createElement(ze,null)),i.a.createElement(Pe.a,{style:{marginTop:20},span:24},i.a.createElement($e,null)))))}}]),t}(n.Component),Ye=a(40),Qe=a(119),Je=a(675),Xe=a(676),Ze=a(161),et=Qe.a.Option,tt=g.a.create({name:"normal_login"})(Object(pe.b)((function(e){return{lotteryData:e.lotteryReducer}}),(function(e){return{SetData:function(t){e({type:"setData",payload:t})}}}))((function(e){var t=e.form.getFieldDecorator;return i.a.createElement(g.a,{onSubmit:function(t){e.submit(t,(function(){e.form.validateFields((function(t,a){if(!t){var n=new FormData;n.append("name",a.name),n.append("gender",a.gender),n.append("phone",a.phone),e.setIsLoading(!0),function(e){return S({url:w.AddLottery,method:"POST",data:e,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})}(n).then((function(t){e.setIsLoading(!1),setTimeout((function(){e.closeModal(),e.SetData(t.data)}),300)})).catch((function(e){alert("Server Error")}))}}))}))}},i.a.createElement(g.a.Item,{label:"name"},t("name",{rules:[{required:!0,message:"Please enter the name!"}]})(i.a.createElement(f.a,{placeholder:"name ..."}))),i.a.createElement(g.a.Item,{label:"phone"},t("phone",{rules:[{required:!0,message:"Please enter the phone!"},{min:7,message:"Phone number doesn't less than 7 digits"}]})(i.a.createElement(f.a,{placeholder:"phone number ..."}))),i.a.createElement(g.a.Item,{label:"gender"},t("gender",{rules:[{required:!0,message:"Please select the gender!"}]})(i.a.createElement(Qe.a,null,i.a.createElement(et,{value:"0"},"male"),i.a.createElement(et,{value:"1"},"female")))),i.a.createElement(g.a.Item,null,i.a.createElement(E.a,{key:"back",style:{marginRight:"10px"},onClick:e.closeModal},"Cancel"),i.a.createElement(E.a,{htmlType:"submit",type:"primary",loading:e.isLoading},"Submit")))}))),at=function(e){var t=function(e,t){e.preventDefault(),t()},a=Object(n.useState)(!1),l=Object(Ze.a)(a,2),o=l[0],r=l[1];return i.a.createElement(Se.a,{visible:e.visible,title:"Add Lottery",onOk:t,onCancel:e.closeModal,footer:[]},i.a.createElement(tt,{isLoading:o,submit:t,setIsLoading:r,closeModal:e.closeModal}))},nt=Qe.a.Option,it=i.a.createContext(),lt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).getInput=function(){return"select"===a.props.inputType?i.a.createElement(Qe.a,null,i.a.createElement(nt,{value:"0"},"male"),i.a.createElement(nt,{value:"1"},"female")):i.a.createElement(f.a,null)},a.renderCell=function(e){var t=e.getFieldDecorator,n=a.props,l=n.editing,o=n.dataIndex,r=n.title,s=(n.inputType,n.record),c=(n.index,n.children),d=Object(de.a)(n,["editing","dataIndex","title","inputType","record","index","children"]);return i.a.createElement("td",d,l?i.a.createElement(g.a.Item,{style:{margin:0}},t(o,{rules:[{required:!0,message:"Please Input ".concat(r,"!")}],initialValue:s[o]})(a.getInput())):c)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(it.Consumer,null,this.renderCell)}}]),t}(i.a.Component),ot=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentWillUnmount=function(){a.setState=function(e){}},a.isEditing=function(e){return e.key===a.state.editingKey},a.DeleteHandler=function(e){a.setState({loading:!0}),k(e).then((function(e){a.setState({loading:!1},(function(){a.setState({data:e.data.map((function(e){return{name:e.name,phone:e.phone,gender:e.gender,key:e._id.$oid}}))})}))})).catch((function(e){a.setState({loading:!1}),alert("delete Fail, Plz try it later")}))},a.cancel=function(){a.setState({editingKey:""})},a.openLotteryAddModal=function(){a.setState({modalVisible:!0})},a.closeLotteryAddModal=function(){a.setState({modalVisible:!1})},a.state={data:[],modalVisible:!1,editingKey:"",loading:!1},a.columns=[{title:"name",dataIndex:"name",editable:!0},{title:"phone",dataIndex:"phone",editable:!0},{title:"gender",dataIndex:"gender",editable:!0},{title:"operation",dataIndex:"operation",render:function(e,t){var l=a.state.editingKey;return a.isEditing(t)?i.a.createElement("span",null,i.a.createElement(it.Consumer,null,(function(e){return i.a.createElement("a",{onClick:function(){return a.save(e,t.key)},style:{marginRight:8}},"Save")})),i.a.createElement(Je.a,{title:"Sure to cancel?",onConfirm:function(){return a.cancel(t.key)}},i.a.createElement("a",null,"Cancel"))):i.a.createElement(n.Fragment,null,i.a.createElement("a",{style:{marginRight:"10px"},disabled:""!==l,onClick:function(){return a.edit(t.key)}},"Edit"),i.a.createElement(Je.a,{title:"Sure to Delete?",onConfirm:function(){return a.DeleteHandler(t.key)}},i.a.createElement("a",{disabled:""!==l},"Delete")))}}],a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),S({url:w.GetLottery,method:"GET"}).then((function(t){e.setState({loading:!1},(function(){e.setState({data:t.data.map((function(e){return{name:e.name,phone:e.phone,gender:e.gender,key:e._id.$oid}}))})}))})).catch((function(t){e.setState({loading:!1}),alert("Server Error")}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.lotteryData!==this.props.lotteryData&&this.setState({data:e.lotteryData.map((function(e){return{name:e.name,phone:e.phone,gender:e.gender,key:e._id.$oid}}))})}}]),Object(s.a)(t,[{key:"save",value:function(e,t){var a=this;e.validateFields((function(e,n){if(!e){var i,l,o=new FormData;o.append("name",n.name),o.append("phone",n.phone),o.append("gender",n.gender),a.setState({loading:!0}),(i=t,l=o,S({url:w.UpdateLottery(i),method:"PUT",data:l,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})).then((function(e){a.setState({loading:!1},(function(){a.setState({data:e.data.map((function(e){return{name:e.name,phone:e.phone,gender:e.gender,key:e._id.$oid}})),editingKey:""})}))})).catch((function(e){a.setState({loading:!1}),console.log(e)}))}}))}},{key:"edit",value:function(e){this.setState({editingKey:e})}},{key:"render",value:function(){var e=this,t={body:{cell:lt}},a=this.columns.map((function(t){return t.editable?Object(Ye.a)({},t,{onCell:function(a){return{record:a,inputType:"gender"===t.dataIndex?"select":"text",dataIndex:t.dataIndex,title:t.title,editing:e.isEditing(a)}}}):t}));return i.a.createElement(it.Provider,{value:this.props.form},i.a.createElement(E.a,{onClick:this.openLotteryAddModal,type:"primary",style:{marginBottom:16}},"Add a row"),i.a.createElement(at,{closeModal:this.closeLotteryAddModal,visible:this.state.modalVisible}),i.a.createElement(Xe.a,{loading:this.state.loading,components:t,bordered:!0,dataSource:this.state.data,columns:a,rowClassName:"editable-row",pagination:{onChange:this.cancel}}))}}]),t}(i.a.Component),rt=g.a.create()(Object(pe.b)((function(e){return{lotteryData:e.lotteryReducer}}))(ot)),st=function(e){return i.a.createElement(Oe,{title:e.name},i.a.createElement("div",null,i.a.createElement(rt,null)))},ct=function(e){return new Date(1e3*parseInt(e.substring(0,8),16))},dt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).DeleteHandler=function(e){a.setState({isLoading:!0}),M(e._id.$oid).then((function(e){a.setState({isLoading:!1},(function(){a.setState({clients:e.data.map((function(e,t){return e.key=t.toString(),e}))})}))})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a.columns=[{title:"Name",dataIndex:"name",key:"name"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Email",dataIndex:"email",key:"email"},{title:"Date",dataIndex:"date",key:"date"},{title:"Action",dataIndex:"",key:"x",render:function(e){return i.a.createElement(Je.a,{title:"Sure to Delete?",onConfirm:function(){return a.DeleteHandler(e)}},i.a.createElement("a",null,"Delete"))}}],a.state={clients:[],isLoading:!1},a.componentDidMount=function(){a.FetchClients()},a.FetchClients=function(){a.setState({isLoading:!0},(function(){P().then((function(e){a.setState({clients:e.data.map((function(e,t){return e.key=t.toString(),e.date=xe()(ct(e._id.$oid)).format("MMMM Do YYYY, h:mm:ss a"),e})),isLoading:!1})})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(Oe,{title:this.props.name},i.a.createElement("div",null,i.a.createElement(E.a,{loading:this.state.isLoading,disabled:this.state.isLoading,onClick:this.FetchClients,type:"primary",style:{marginBottom:16}},"Refresh"),i.a.createElement(Xe.a,{loading:this.state.isLoading,columns:this.columns,expandedRowRender:function(e){return i.a.createElement("p",{style:{margin:0}},e.message)},dataSource:this.state.clients})))}}]),t}(n.Component),ut=g.a.create({name:"normal_login"})(Object(pe.b)((function(e){return{localClientData:e.localClientReducer}}),(function(e){return{SetData:function(t){e({type:"setData",payload:t})}}}))((function(e){var t=e.form.getFieldDecorator;return i.a.createElement(g.a,{onSubmit:function(t){e.submit(t,(function(){e.form.validateFields((function(t,a){if(!t){var n=new FormData;n.append("name",a.name),n.append("address",a.address),n.append("phone",a.phone),n.append("email",a.email),e.setIsLoading(!0),function(e){return S({url:w.AddLocalClient,method:"POST",headers:{Authorization:" Basic "+L(localStorage.getItem("token"))},data:e})}(n).then((function(t){e.setIsLoading(!1),setTimeout((function(){e.closeModal(),e.refreshPage()}),300)})).catch((function(e){alert("Server Error")}))}}))}))}},i.a.createElement(g.a.Item,{label:"name"},t("name",{rules:[{required:!0,message:"Please enter the name!"}]})(i.a.createElement(f.a,{placeholder:"name ..."}))),i.a.createElement(g.a.Item,{label:"phone"},t("phone",{rules:[{required:!0,message:"Please enter the phone!"},{min:7,message:"Phone number doesn't less than 7 digits"}]})(i.a.createElement(f.a,{placeholder:"phone number ..."}))),i.a.createElement(g.a.Item,{label:"address"},t("address",{rules:[{required:!0,message:"Please enter the address!"}]})(i.a.createElement(f.a,{placeholder:"address ..."}))),i.a.createElement(g.a.Item,{label:"email"},t("email",{rules:[{required:!0,message:"Please enter the email!"}]})(i.a.createElement(f.a,{placeholder:"email ..."}))),i.a.createElement(g.a.Item,null,i.a.createElement(E.a,{style:{marginRight:"10px"},key:"back",onClick:e.closeModal},"Cancel"),i.a.createElement(E.a,{htmlType:"submit",type:"primary",loading:e.isLoading},"Submit")))}))),mt=function(e){var t=function(e,t){e.preventDefault(),t()},a=Object(n.useState)(!1),l=Object(Ze.a)(a,2),o=l[0],r=l[1];return i.a.createElement(Se.a,{visible:e.visible,title:"Add Local Client",onOk:t,onCancel:e.closeModal,footer:[]},i.a.createElement(ut,{refreshPage:e.refreshPage,isLoading:o,submit:t,setIsLoading:r,closeModal:e.closeModal}))},pt=i.a.createContext(),ht=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).getInput=function(){return i.a.createElement(f.a,null)},a.renderCell=function(e){var t=e.getFieldDecorator,n=a.props,l=n.editing,o=n.dataIndex,r=n.title,s=(n.inputType,n.record),c=(n.index,n.children),d=Object(de.a)(n,["editing","dataIndex","title","inputType","record","index","children"]);return i.a.createElement("td",d,l?i.a.createElement(g.a.Item,{style:{margin:0}},t(o,{rules:[{required:!0,message:"Please Input ".concat(r,"!")}],initialValue:s[o]})(a.getInput())):c)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(pt.Consumer,null,this.renderCell)}}]),t}(i.a.Component),gt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentWillUnmount=function(){a.setState=function(e){}},a.isEditing=function(e){return e.key===a.state.editingKey},a.DeleteHandler=function(e){a.setState({loading:!0}),j(e).then((function(e){1===a.state.data.length?a.setState({loading:!1,current_page_num:a.state.current_page_num-1},(function(){a.refreshPage()})):a.setState({loading:!1},(function(){a.refreshPage()}))})).catch((function(e){a.setState({loading:!1}),alert("delete Fail, Plz try it later")}))},a.cancel=function(){a.setState({editingKey:""})},a.pageChange=function(e,t){a.setState({loading:!0}),ne(e).then((function(t){a.setState({loading:!1},(function(){a.setState({data:t.data.data.map((function(e){return{name:e.name,phone:e.phone,address:e.address,email:e.email,key:e._id.$oid}})),total:t.data.total,current_page_num:e,editingKey:""})}))})).catch((function(e){a.setState({loading:!1}),alert("Server Error")}))},a.openLotteryAddModal=function(){a.setState({modalVisible:!0})},a.closeLotteryAddModal=function(){a.setState({modalVisible:!1})},a.refreshPage=function(){a.setState({loading:!0}),ne(a.state.current_page_num).then((function(e){a.setState({loading:!1},(function(){a.setState({data:e.data.data.map((function(e){return{name:e.name,phone:e.phone,address:e.address,email:e.email,key:e._id.$oid}})),total:e.data.total})}))})).catch((function(e){a.setState({loading:!1}),alert("Server Error")}))},a.state={data:[],modalVisible:!1,editingKey:"",loading:!1,total:1,current_page_num:1},a.columns=[{title:"name",dataIndex:"name",editable:!0},{title:"phone",dataIndex:"phone",editable:!0},{title:"address",dataIndex:"address",editable:!0},{title:"email",dataIndex:"email",editable:!0},{title:"operation",dataIndex:"operation",render:function(e,t){var l=a.state.editingKey;return a.isEditing(t)?i.a.createElement("span",null,i.a.createElement(pt.Consumer,null,(function(e){return i.a.createElement("a",{onClick:function(){return a.save(e,t.key)},style:{marginRight:8}},"Save")})),i.a.createElement(Je.a,{title:"Sure to cancel?",onConfirm:function(){return a.cancel(t.key)}},i.a.createElement("a",null,"Cancel"))):i.a.createElement(n.Fragment,null,i.a.createElement("a",{style:{marginRight:"10px"},disabled:""!==l,onClick:function(){return a.edit(t.key)}},"Edit"),i.a.createElement(Je.a,{title:"Sure to Delete?",onConfirm:function(){return a.DeleteHandler(t.key)}},i.a.createElement("a",{disabled:""!==l},"Delete")))}}],a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),ne(this.state.current_page_num).then((function(t){e.setState({loading:!1},(function(){e.setState({data:t.data.data.map((function(e){return{name:e.name,phone:e.phone,address:e.address,email:e.email,key:e._id.$oid}})),total:t.data.total})}))})).catch((function(t){e.setState({loading:!1}),alert("Server Error")}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.localClientData!==this.props.localClientData&&this.setState({data:e.localClientData.map((function(e){return{name:e.name,phone:e.phone,address:e.address,email:e.email,key:e._id.$oid}}))})}}]),Object(s.a)(t,[{key:"save",value:function(e,t){var a=this;e.validateFields((function(e,n){if(!e){var i,l,o=new FormData;o.append("name",n.name),o.append("phone",n.phone),o.append("address",n.address),o.append("email",n.email),a.setState({loading:!0}),(i=t,l=o,S({url:w.UpdateLocalClient(i),method:"PUT",headers:{Authorization:" Basic "+L(localStorage.getItem("token"))},data:l})).then((function(e){a.setState({loading:!1},(function(){a.setState({editingKey:""},(function(){a.refreshPage()}))}))})).catch((function(e){a.setState({loading:!1}),console.log(e)}))}}))}},{key:"edit",value:function(e){this.setState({editingKey:e})}},{key:"render",value:function(){var e=this,t={body:{cell:ht}},a=this.columns.map((function(t){return t.editable?Object(Ye.a)({},t,{onCell:function(a){return{record:a,inputType:"gender"===t.dataIndex?"select":"text",dataIndex:t.dataIndex,title:t.title,editing:e.isEditing(a)}}}):t}));return i.a.createElement(pt.Provider,{value:this.props.form},i.a.createElement(E.a,{onClick:this.openLotteryAddModal,type:"primary",style:{marginBottom:16}},"Add a row"),i.a.createElement(mt,{refreshPage:this.refreshPage,closeModal:this.closeLotteryAddModal,visible:this.state.modalVisible}),i.a.createElement(Xe.a,{loading:this.state.loading,components:t,bordered:!0,dataSource:this.state.data,columns:a,rowClassName:"editable-row",pagination:{defaultPageSize:10,onChange:this.pageChange,total:this.state.total,current:this.state.current_page_num}}))}}]),t}(i.a.Component),ft=g.a.create()(Object(pe.b)((function(e){return{localClientData:e.localClientReducer}}))(gt)),bt=function(e){return i.a.createElement(Oe,{title:e.name},i.a.createElement("div",null,i.a.createElement(ft,null)))},Et=a(157),yt=a(686),vt=a(165),St=a.n(vt),Ct=a(677),wt=g.a.create({name:"staff_modal_form"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).UNSAFE_componentWillReceiveProps=function(e){e.values!==a.props.values&&a.props.form.resetFields()},a.state={wechatFileList:[],imageFileList:[],isLoading:!1},a.wechatFile=function(e){return a.setState({wechatFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.onCancel=function(){a.props.hideModal()},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n=new FormData;n.append("role",t.role),n.append("role_cn",t.role_cn),n.append("facebook",t.facebook),n.append("linkedin",t.linkedin),0!==t.wechat.length?t.wechat[0].response.is_success&&n.append("wechat",t.wechat[0].response.data):n.append("wechat",a.props.values.wechat),0!==t.image.length?t.image[0].response.is_success&&n.append("image",t.image[0].response.data):n.append("image",a.props.values.image),a.setState({isLoading:!0}),F(a.props.values.id,n).then((function(e){a.setState({isLoading:!1},(function(){a.props.hideModalThenFetch()}))})).catch((function(e){a.setState({isLoading:!1})})),a.setState({imageFileList:[],wechatFileList:[]})}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{visible:this.props.visible,title:"Edit ".concat(this.props.values.name," Information"),okText:"Update",onCancel:function(){e.onCancel(),e.setState({imageFileList:[],wechatFileList:[]})},onOk:this.HandlerSubmit,confirmLoading:this.state.isLoading,destroyOnClose:!0},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(g.a.Item,{label:"role"},t("role",{initialValue:this.props.values.role})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u804c\u4f4d"},t("role_cn",{initialValue:this.props.values.role_cn})(i.a.createElement(f.a,{type:"textarea"}))),i.a.createElement(g.a.Item,{label:"facebook"},t("facebook",{initialValue:this.props.values.facebook})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"linkedin"},t("linkedin",{initialValue:this.props.values.linkedin})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null))),i.a.createElement(g.a.Item,{label:"wechat"},t("wechat",{valuePropName:"wechat",getValueFromEvent:this.wechatFile,initialValue:[]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.wechatFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))}}]),t}(n.Component)),Lt=Object(pe.b)((function(e){return{StaffInfoData:e.StaffInfoReducer}}),(function(e){return{SetData:function(t){e({type:"setData",payload:t})}}}))(wt),_t=g.a.create({name:"staff_add_modal"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={imageFileList:[],wechatFileList:[]},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.wechatFile=function(e){return a.setState({wechatFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n=new FormData;n.append("name",t.name),n.append("role",t.role),n.append("role_cn",t.role_cn),n.append("facebook",t.facebook),n.append("linkedin",t.linkedin),0!==t.wechat.length?t.wechat[0].response.is_success&&n.append("wechat",t.wechat[0].response.data):n.append("wechat",""),0!==t.image.length?t.image[0].response.is_success&&n.append("image",t.image[0].response.data):n.append("image",""),a.props.AddStaff(n,(function(){a.props.form.resetFields(),a.props.hideModal()})),a.setState({imageFileList:[],wechatFileList:[]})}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{visible:this.props.visible,title:"Add Staff",okText:"Add",style:{top:30},onCancel:function(){e.props.hideModal(),e.setState({imageFileList:[],wechatFileList:[]})},destroyOnClose:!0,onOk:this.HandlerSubmit,confirmLoading:this.props.isLoading},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(g.a.Item,{label:"name"},t("name",{rules:[{required:!0,message:"Please enter the name!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"role"},t("role",{rules:[{required:!0,message:"Please enter the role!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u804c\u4f4d"},t("role_cn",{rules:[{required:!0,message:"Please enter the \u804c\u4f4d!"}]})(i.a.createElement(f.a,{type:"textarea"}))),i.a.createElement(g.a.Item,{label:"facebook"},t("facebook",{rules:[{required:!0,message:"Please enter the facebook!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"linkedin"},t("linkedin",{rules:[{required:!0,message:"Please enter the linkedin!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[],rules:[{required:!0,message:"Please upload the image!"}]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null))),i.a.createElement(g.a.Item,{label:"wechat"},t("wechat",{valuePropName:"wechat",getValueFromEvent:this.wechatFile,initialValue:[],rules:[{required:!0,message:"Please upload the wechat QR code image!"}]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.wechatFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))}}]),t}(n.Component)),Ot=function(e){return i.a.createElement(Se.a,{title:e.title,visible:e.visible,onOk:e.confirm,onCancel:e.hideModal,okText:"Confirm",cancelText:"Cancel",confirmLoading:e.isLoading},i.a.createElement(h.a.Title,{level:3},e.text))},kt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={data:[],EditModalVisible:!1,propsToModal:{name:"",role:"",role_cn:"",facebook:"",linkedin:"",id:"",wechat:"",image:""},isLoading:!1,AddModalVisible:!1,DeleteModalVisible:!1,DeletePerson:{name:"",id:""}},a.componentDidMount=function(){a.FetchStaff()},a.componentWillUnmount=function(){a.setState=function(e){}},a.FetchStaff=function(){a.setState({isLoading:!0}),I().then((function(e){a.setState({isLoading:!1},(function(){a.setState({data:e.data})}))})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a.openEditModal=function(e){a.setState({propsToModal:{name:e.name,role:e.role,role_cn:e.role_cn,facebook:e.facebook,linkedin:e.linkedin,wechat:e.wechat,image:e.image,id:e._id.$oid}},(function(){a.setState({EditModalVisible:!0})}))},a.hideEditModal=function(){a.setState({EditModalVisible:!1})},a.hideEditModalThenFetch=function(){a.setState({EditModalVisible:!1},(function(){a.FetchStaff()}))},a.hideAddModal=function(){a.setState({AddModalVisible:!1})},a.openAddModal=function(){a.setState({AddModalVisible:!0})},a.AddStaffHandler=function(e,t){a.setState({isLoading:!0}),U(e).then((function(e){a.setState({isLoading:!1,data:e.data},(function(){t()}))})).catch((function(e){console.log(e)}))},a.openDeleteModal=function(e){a.setState({DeletePerson:{name:e.name,id:e._id.$oid}},(function(){a.setState({DeleteModalVisible:!0})}))},a.hideDeleteModal=function(){a.setState({DeleteModalVisible:!1})},a.DeleteHandler=function(){a.setState({isLoading:!0}),z(a.state.DeletePerson.id).then((function(e){a.setState({data:e.data,isLoading:!1,DeleteModalVisible:!1})})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.StaffInfoData!==this.props.StaffInfoData&&this.setState({data:e.StaffInfoData})}},{key:"render",value:function(){var e=this;return i.a.createElement(n.Fragment,null,i.a.createElement(Oe,{title:this.props.name},i.a.createElement(Et.a,{style:{top:250},tip:"Loading...",spinning:this.state.isLoading},i.a.createElement(E.a,{onClick:this.openAddModal,style:{marginBottom:10},type:"primary"},"Add Staff"),i.a.createElement("div",null,this.state.data.map((function(t,a){return i.a.createElement("div",{key:a.toString(),className:St.a.card},i.a.createElement(yt.a,{style:{paddingBottom:"10px",margin:10},title:t.name,size:"default"},i.a.createElement(yt.a.Item,{label:"Role"},t.role),i.a.createElement(yt.a.Item,{label:"\u804c\u4f4d"},t.role_cn),i.a.createElement(yt.a.Item,{label:"Operation"},i.a.createElement("div",null,i.a.createElement("span",{style:{marginRight:10},className:St.a.edit,onClick:function(){e.openDeleteModal(t)}},"Delete"),i.a.createElement("span",{className:St.a.edit,onClick:function(){e.openEditModal(t)}},"Edit"))),i.a.createElement(yt.a.Item,{label:"image"},i.a.createElement("a",{href:t.image},i.a.createElement("img",{width:100,height:100,src:t.image}))),i.a.createElement(yt.a.Item,{label:"wechat"},i.a.createElement("a",{href:t.wechat},i.a.createElement("img",{width:100,height:100,src:t.wechat})))))}))))),i.a.createElement(Lt,{hideModalThenFetch:this.hideEditModalThenFetch,visible:this.state.EditModalVisible,hideModal:this.hideEditModal,values:this.state.propsToModal}),i.a.createElement(_t,{visible:this.state.AddModalVisible,hideModal:this.hideAddModal,isLoading:this.state.isLoading,AddStaff:this.AddStaffHandler}),i.a.createElement(Ot,{title:"Delete Confirmation",visible:this.state.DeleteModalVisible,confirm:this.DeleteHandler,hideModal:this.hideDeleteModal,text:"Are you sure to delete ".concat(this.state.DeletePerson.name),isLoading:this.state.isLoading}))}}]),t}(n.Component),Pt=Object(pe.b)((function(e){return{StaffInfoData:e.StaffInfoReducer}}))(kt),Mt=a(685),Dt=g.a.create({name:"add_company_description"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={imageFileList:[]},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n=new FormData;Object.keys(t).forEach((function(e){"image"===e||n.append(e,t[e])})),0!==t.image.length&&t.image[0].response.is_success?n.append("image",t.image[0].response.data):n.append("image",""),a.props.confirm(n),a.setState({imageFileList:[]})}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;console.log(this.state);var t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{style:{top:10},visible:this.props.visible,title:"Add About",okText:"Add",onCancel:function(){e.props.hideModal(),e.setState({imageFileList:[]})},onOk:this.HandlerSubmit,confirmLoading:this.props.isLoading,destroyOnClose:!0},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(g.a.Item,{label:"timeline"},t("timeline",{rules:[{required:!0,message:"Please enter the timeline!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u65f6\u95f4\u7ebf"},t("timeline_cn",{rules:[{required:!0,message:"Please enter the \u65f6\u95f4\u7ebf!"}]})(i.a.createElement(f.a,{type:"textarea"}))),i.a.createElement(g.a.Item,{label:"description"},t("description",{rules:[{required:!0,message:"Please enter the description!"}]})(i.a.createElement(f.a.TextArea,{rows:4}))),i.a.createElement(g.a.Item,{label:"\u63cf\u8ff0"},t("description_cn",{rules:[{required:!0,message:"Please enter the chinese description!"}]})(i.a.createElement(f.a.TextArea,{rows:4}))),i.a.createElement(g.a.Item,{label:"subheading"},t("subheading",{rules:[{required:!0,message:"Please enter the chinese subheading!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u5b50\u6807\u9898"},t("subheading_cn",{rules:[{required:!0,message:"Please enter the chinese \u5b50\u6807\u9898!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,rules:[{required:!0,message:"Please upload image!"}]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))}}]),t}(n.Component)),jt=g.a.create({name:"edit_company_description"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={imageFileList:[]},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n=new FormData;Object.keys(t).forEach((function(e){"image"===e||n.append(e,t[e])})),0!==t.image.length&&t.image[0].response.is_success?n.append("image",t.image[0].response.data):n.append("image",a.props.values.image),a.props.confirm(a.props.values.id,n,(function(){a.props.form.resetFields()})),a.setState({imageFileList:[]})}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{style:{top:10},visible:this.props.visible,title:"Add About",okText:"Add",onCancel:function(){e.props.hideModal(),e.setState({imageFileList:[]})},destroyOnClose:!0,onOk:this.HandlerSubmit,confirmLoading:this.props.isLoading},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(g.a.Item,{label:"timeline"},t("timeline",{rules:[{required:!0,message:"Please enter the timeline!"}],initialValue:this.props.values.timeline})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u65f6\u95f4\u7ebf"},t("timeline_cn",{rules:[{required:!0,message:"Please enter the \u65f6\u95f4\u7ebf!"}],initialValue:this.props.values.timeline_cn})(i.a.createElement(f.a,{type:"textarea"}))),i.a.createElement(g.a.Item,{label:"description"},t("description",{rules:[{required:!0,message:"Please enter the description!"}],initialValue:this.props.values.description})(i.a.createElement(f.a.TextArea,{rows:4}))),i.a.createElement(g.a.Item,{label:"\u63cf\u8ff0"},t("description_cn",{rules:[{required:!0,message:"Please enter the chinese description!"}],initialValue:this.props.values.description_cn})(i.a.createElement(f.a.TextArea,{rows:4}))),i.a.createElement(g.a.Item,{label:"subheading"},t("subheading",{rules:[{required:!0,message:"Please enter the chinese subheading!"}],initialValue:this.props.values.subheading})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u5b50\u6807\u9898"},t("subheading_cn",{rules:[{required:!0,message:"Please enter the chinese \u5b50\u6807\u9898!"}],initialValue:this.props.values.subheading_cn})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))}}]),t}(n.Component)),It=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={isLoading:!1,data:[],AddModalVisible:!1,DeleteModalVisible:!1,EditModalVisible:!1,DeleteId:"",passToModal:{id:"",timeline:"",timeline_cn:"",image:"",description:"",description_cn:"",subheading:"",subheading_cn:""}},a.componentWillUnmount=function(){a.setState=function(e){}},a.componentDidMount=function(){a.setState({isLoading:!0}),J().then((function(e){a.setState({isLoading:!1,data:e.data})})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.OpenAddModal=function(){a.setState({AddModalVisible:!0})},a.hideAddModal=function(){a.setState({AddModalVisible:!1})},a.AddAboutHandler=function(e){a.setState({isLoading:!0}),X(e).then((function(e){a.setState({isLoading:!1,data:e.data,AddModalVisible:!1})})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.DeleteAboutHandler=function(){a.setState({isLoading:!0}),Z(a.state.DeleteId).then((function(e){a.setState({isLoading:!1,data:e.data,DeleteModalVisible:!1,DeleteId:""})})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.hideDeleteModal=function(){a.setState({DeleteModalVisible:!1})},a.OpenDeleteModal=function(e){a.setState({DeleteModalVisible:!0,DeleteId:e})},a.hideEditModal=function(){a.setState({EditModalVisible:!1})},a.OpenEditModal=function(e){a.setState({EditModalVisible:!0},(function(){a.setState({passToModal:{id:e._id.$oid,timeline:e.timeline,timeline_cn:e.timeline_cn,image:e.image,description:e.description,description_cn:e.description_cn,subheading:e.subheading,subheading_cn:e.subheading_cn}})}))},a.EditHandler=function(e,t,n){a.setState({isLoading:!0}),ee(e,t).then((function(e){a.setState({isLoading:!1,EditModalVisible:!1,data:e.data,passToModal:{id:"",timeline:"",timeline_cn:"",image:"",description:"",description_cn:"",subheading:"",subheading_cn:""}},(function(){n()}))})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Oe,{title:this.props.name},i.a.createElement(Et.a,{style:{top:250},tip:"Loading...",spinning:this.state.isLoading},i.a.createElement(E.a,{onClick:this.OpenAddModal,type:"primary"},"Add more description"),i.a.createElement(Mt.a,{itemLayout:"vertical",size:"large",dataSource:this.state.data,renderItem:function(t){return i.a.createElement(Mt.a.Item,{actions:[i.a.createElement("a",{onClick:function(){e.OpenEditModal(t)},key:"list-loadmore-edit"},"edit"),i.a.createElement("a",{onClick:function(){e.OpenDeleteModal(t._id.$oid)},key:"list-loadmore-more"},"delete")],extra:i.a.createElement("img",{alt:"",width:272,src:t.image})},i.a.createElement(Mt.a.Item.Meta,{title:t.subheading,description:t.timeline}),t.description)}}))),i.a.createElement(Dt,{hideModal:this.hideAddModal,visible:this.state.AddModalVisible,isLoading:this.state.isLoading,confirm:this.AddAboutHandler}),i.a.createElement(Ot,{title:"Delete Confirmation",visible:this.state.DeleteModalVisible,confirm:this.DeleteAboutHandler,hideModal:this.hideDeleteModal,isLoading:this.state.isLoading,text:"Are you sure to delete it?"}),i.a.createElement(jt,{hideModal:this.hideEditModal,visible:this.state.EditModalVisible,isLoading:this.state.isLoading,values:this.state.passToModal,confirm:this.EditHandler}))}}]),t}(n.Component),Ft=a(679),At=a(331),Tt=a.n(At),Vt=g.a.create({name:"brand_add_modal"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).UNSAFE_componentWillReceiveProps=function(){!1===a.props.visible&&a.props.form.resetFields()},a.state={isLoading:!1,imageFileList:[]},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n=new FormData;n.append("name",t.name),n.append("name_cn",t.name_cn),n.append("description",t.description),n.append("description_cn",t.description_cn),0!==t.image.length&&t.image[0].response.is_success?n.append("image",t.image[0].response.data):n.append("image",""),a.setState({isLoading:!0}),T(n).then((function(e){a.setState({isLoading:!1},(function(){a.props.hideModal(),a.props.SetData(e.data)}))})).catch((function(e){console.log(e),a.setState({isLoading:!1})})),a.setState({imageFileList:[]})}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{visible:this.props.visible,title:"Add brands",okText:"Add",onCancel:function(){e.props.hideModal(),e.setState({imageFileList:[]})},onOk:this.HandlerSubmit,destroyOnClose:!0,confirmLoading:this.state.isLoading},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(g.a.Item,{label:"name"},t("name",{rules:[{required:!0,message:"Please enter the name!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u540d\u5b57"},t("name_cn",{rules:[{required:!0,message:"Please enter the chinese name!"}]})(i.a.createElement(f.a,{type:"textarea"}))),i.a.createElement(g.a.Item,{label:"description"},t("description",{rules:[{required:!0,message:"Please enter the description!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u63cf\u8ff0"},t("description_cn",{rules:[{required:!0,message:"Please enter the chinese description!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))}}]),t}(n.Component)),xt=Object(pe.b)((function(e){return{BrandData:e.BrandReducer}}),(function(e){return{SetData:function(t){e({type:"setData",payload:t})}}}))(Vt),Bt=function(e){return i.a.createElement(Se.a,{title:"Delete Confirmation",visible:e.visible,onOk:function(){e.confirm(e.id)},confirmLoading:e.isLoading,onCancel:e.hideModal},i.a.createElement("p",null,"Are u sure to delete?"))},Nt=g.a.create({name:"brand_edit_modal"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.state={imageFileList:[]},a.onCancel=function(){a.props.hideModal()},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n=new FormData;n.append("name",t.name),n.append("name_cn",t.name_cn),n.append("description",t.description),n.append("description_cn",t.description_cn),console.log(n.name),0!==t.image.length&&t.image[0].response.is_success?n.append("image",t.image[0].response.data):n.append("image",a.props.values.image),a.props.updataBrand(a.props.values.id,n),a.setState({imageFileList:[]})}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{visible:this.props.visible,title:"Edit ".concat(this.props.values.name," Information"),okText:"Update",onCancel:function(){e.onCancel(),e.setState({imageFileList:[]})},destroyOnClose:!0,onOk:this.HandlerSubmit,confirmLoading:this.props.isLoading},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(g.a.Item,{label:"name"},t("name",{initialValue:this.props.values.name})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u540d\u5b57"},t("name_cn",{initialValue:this.props.values.name_cn})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"description"},t("description",{initialValue:this.props.values.description})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u63cf\u8ff0"},t("description_cn",{initialValue:this.props.values.description_cn})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))}}]),t}(n.Component)),qt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={data:[],isLoading:!1,AddModalVisible:!1,DeleteConfirmModalVisible:!1,EditModalVisible:!1,currentBrandId:"",propsToModal:{id:"",name:"",name_cn:"",description:"",description_cn:"",image:""}},a.componentDidMount=function(){a.FetchBrands()},a.UpdateBrandHandler=function(e,t){a.setState({isLoading:!0}),N(e,t).then((function(e){a.setState({isLoading:!1},(function(){a.setState({data:e.data,EditModalVisible:!1})}))})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a.ConfirmDeleteBrandHandler=function(e){a.setState({isLoading:!0}),B(e).then((function(e){a.setState({isLoading:!1},(function(){a.setState({data:e.data,DeleteConfirmModalVisible:!1})}))})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.UNSAFE_componentWillReceiveProps=function(e){a.props.BrandData!==e.BrandData&&a.setState({data:e.BrandData})},a.hideDeleteConfirmModal=function(){a.setState({DeleteConfirmModalVisible:!1})},a.OpenAddModal=function(){a.setState({AddModalVisible:!0})},a.hideAddModal=function(){a.setState({AddModalVisible:!1})},a.hideEditModal=function(){a.setState({EditModalVisible:!1})},a.openEditModal=function(e){a.setState({propsToModal:{id:e._id.$oid,name:e.name,name_cn:e.name_cn,description:e.description,description_cn:e.description_cn,image:e.image}},(function(){a.setState({EditModalVisible:!0})}))},a.FetchBrands=function(){a.setState({isLoading:!0}),A().then((function(e){a.setState({isLoading:!1}),a.setState({data:e.data})})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a.componentWillUnmount=function(){a.setState=function(e){}},a.OpenDeleteConfirmModal=function(e){a.setState({currentBrandId:e},(function(){a.setState({DeleteConfirmModalVisible:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(n.Fragment,null,i.a.createElement(Oe,{title:this.props.name},i.a.createElement(Et.a,{style:{top:170},tip:"Loading...",spinning:this.state.isLoading},i.a.createElement(ke.a,{gutter:[0,20]},this.state.data.map((function(t,a){return i.a.createElement(Pe.a,{key:a.toString(),span:8},i.a.createElement(Ft.a,{title:t.name,style:{width:300},extra:i.a.createElement("div",null,i.a.createElement("a",{onClick:function(){e.openEditModal(t)}},"Edit"),i.a.createElement("a",{onClick:function(){e.OpenDeleteConfirmModal(t._id.$oid)},style:{marginLeft:10}},"Delete"))},i.a.createElement("img",{style:{width:"100%",height:"150px"},alt:"",src:"".concat(t.image)})))})),i.a.createElement(Pe.a,{span:8},i.a.createElement("div",{onClick:this.OpenAddModal,style:{opacity:this.state.isLoading?"0":"1"},className:Tt.a.add}))))),i.a.createElement(Nt,{visible:this.state.EditModalVisible,hideModal:this.hideEditModal,updataBrand:this.UpdateBrandHandler,isLoading:this.state.isLoading,values:this.state.propsToModal}),i.a.createElement(xt,{visible:this.state.AddModalVisible,hideModal:this.hideAddModal}),i.a.createElement(Bt,{visible:this.state.DeleteConfirmModalVisible,isLoading:this.state.isLoading,id:this.state.currentBrandId,hideModal:this.hideDeleteConfirmModal,confirm:this.ConfirmDeleteBrandHandler}))}}]),t}(n.Component),Ht=Object(pe.b)((function(e){return{BrandData:e.BrandReducer}}))(qt),Rt=function(){return function(e){e({type:"BeforeFetchData"}),S({method:"GET",url:w.GetProductCategory}).then((function(t){return e({type:"FetchDataSuccess",payload:t.data})})).catch((function(t){return console.log(t),e({type:"FetchDataFail"})}))}},Ut=function(e,t,a){return function(n){n({type:"BeforeFetchData"}),function(e,t){return S({method:"PUT",url:w.UpdateProductCategory(e),data:t,headers:{Authorization:" Basic "+L(localStorage.getItem("token"))}})}(e,t).then((function(e){n({type:"FetchDataSuccess",payload:e.data}),a()})).catch((function(e){console.log(e),n({type:"FetchDataFail"})}))}},zt=g.a.create({name:"product_category_edit_modal"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).UNSAFE_componentWillReceiveProps=function(e){e.values!==a.props.values&&a.props.form.resetFields()},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.state={imageFileList:[]},a.onCancel=function(){a.props.hideModal()},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n=new FormData;n.append("name",t.name),n.append("name_cn",t.name_cn),n.append("description",t.description),n.append("description_cn",t.description_cn),0!==t.image.length&&t.image[0].response.is_success?n.append("image",t.image[0].response.data):n.append("image",a.props.values.image),a.props.UpdateAndFetchProductCategory(a.props.values.id,n,(function(){a.onCancel()})),a.setState({imageFileList:[]})}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{visible:this.props.visible,title:"Edit ".concat(this.props.values.name," Information"),okText:"Update",onCancel:function(){e.onCancel(),e.setState({imageFileList:[]})},destroyOnClose:!0,onOk:this.HandlerSubmit,confirmLoading:this.props.Data.isLoading},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(g.a.Item,{label:"name"},t("name",{initialValue:this.props.values.name})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u540d\u5b57"},t("name_cn",{initialValue:this.props.values.name_cn})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"description"},t("description",{initialValue:this.props.values.description})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u63cf\u8ff0"},t("description_cn",{initialValue:this.props.values.description_cn})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))}}]),t}(n.Component)),Gt=Object(pe.b)((function(e){return{Data:e.ProductCategoryReducer}}),(function(e){return{UpdateAndFetchProductCategory:function(t,a,n){return e(Ut(t,a,n))}}}))(zt),Wt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){a.props.FetchProductCategory()},a.componentWillUnmount=function(){a.setState=function(e){}},a.state={ProductCategoryVisible:!1,propsToModal:{name:"",name_cn:"",description:"",description_cn:"",image:""}},a.hideProductCategoryModal=function(){a.setState({ProductCategoryVisible:!1})},a.openProductCategoryModal=function(e){a.setState({propsToModal:{name:e.name,name_cn:e.name_cn,description:e.description,description_cn:e.description_cn,id:e._id.$oid,image:e.image}},(function(){a.setState({ProductCategoryVisible:!0})}))},a.navigateTo=function(e){a.props.history.push(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(n.Fragment,null,i.a.createElement(Oe,{title:this.props.name},i.a.createElement(Et.a,{style:{top:250},tip:"Loading...",spinning:this.props.Data.isLoading},i.a.createElement(ke.a,{gutter:[0,20]},this.props.Data.data.map((function(t,a){var n="/dashboard/product/"+t._id.$oid;return i.a.createElement(Pe.a,{key:a.toString(),span:8},i.a.createElement(Ft.a,{title:t.name,style:{width:300},extra:i.a.createElement("a",{onClick:function(){e.openProductCategoryModal(t)}},"Edit")},i.a.createElement("img",{onClick:function(){e.navigateTo(n)},style:{width:"100%",height:"150px",cursor:"pointer"},alt:"",src:"".concat(t.image)})))}))))),i.a.createElement(Gt,{visible:this.state.ProductCategoryVisible,hideModal:this.hideProductCategoryModal,values:this.state.propsToModal}))}}]),t}(n.Component),$t=Object(pe.b)((function(e){return{Data:e.ProductCategoryReducer}}),(function(e){return{FetchProductCategory:function(){return e(Rt())}}}))(Object(ie.g)(Wt)),Kt=function(e){return i.a.createElement(Se.a,{title:"change password Confirmation",visible:e.visible,onOk:e.confirm,onCancel:e.hideModal,okText:"Confirm",cancelText:"Cancel"},i.a.createElement(h.a.Title,{level:3},"Are sure to change password and Re-login"))},Yt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={confirmDirty:!1,newpassword:"",oldpassword:"",changeModalVisible:!1},a.openchangepasswordModal=function(){a.setState({changeModalVisible:!0})},a.hidechangepasswordModal=function(){a.setState({changeModalVisible:!1})},a.passwordchanged=function(){var e=window.localStorage.getItem("user_id"),t=new FormData;t.append("old_password",a.state.oldpassword),t.append("new_password",a.state.newpassword),O(t,e).then((function(e){console.log(e)})).then((function(){localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("user_id"),window.location="/login"})).catch((function(e){alert(e.error_message)}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.validateToNextPassword=function(e,t,n){var i=a.props.form;a.setState({oldpassword:i.getFieldValue("old_password")}),t&&a.state.confirmDirty&&i.validateFields(["confirm"],{force:!0}),t&&t===i.getFieldValue("old_password")?n("The new password should be inconsistent with the old password!"):(a.setState({newpassword:t}),n()),n()},a.compareToFirstPassword=function(e,t,n){var i=a.props.form;t&&t!==i.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.submitpassword=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(e)return"";a.setState({changeModalVisible:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement(Oe,{title:this.props.name},i.a.createElement(g.a,null,i.a.createElement(g.a.Item,{label:"Old Password",hasFeedback:!0},e("old_password",{rules:[{required:!0,message:"Please input your Old Password!"}]})(i.a.createElement(f.a.Password,null))),i.a.createElement(g.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(i.a.createElement(f.a.Password,null))),i.a.createElement(g.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(i.a.createElement(f.a.Password,{onBlur:this.handleConfirmBlur}))),i.a.createElement(g.a.Item,null,i.a.createElement(E.a,{type:"primary",htmlType:"submit",onClick:this.submitpassword,style:{marginLeft:"45%"}},"submit")),i.a.createElement(Kt,{hideModal:this.hidechangepasswordModal,confirm:this.passwordchanged,visible:this.state.changeModalVisible})))}}]),t}(n.Component),Qt=g.a.create({name:"change"})(Yt),Jt=g.a.create({name:"product_add_modal"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={isLoading:!1,imageFileList:[]},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n=new FormData;if(Object.keys(t).forEach((function(e){"image"!==e&&n.append(e,t[e])})),n.append("product_category_id",a.props.productCategoryId),0!==t.image.length)if(t.image[0].response.is_success){var i=t.image.map((function(e){return e.response.data}));n.append("image",i)}else n.append("image",[]);else n.append("image",[]);n.append("price","contact us"),n.append("price_cn","\u8054\u7cfb\u6211\u4eec"),a.props.AddProduct(n,(function(){a.props.form.resetFields(),a.setState({imageFileList:[]})}))}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{style:{top:0},width:1e3,visible:this.props.visible,title:"Add Product",okText:"Add",onCancel:function(){e.props.hideModal(),e.setState({imageFileList:[]})},onOk:this.HandlerSubmit,confirmLoading:this.props.isLoading,destroyOnClose:!0},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(ke.a,{type:"flex",justify:"space-around"},i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"code"},t("code",{rules:[{required:!0,message:"Please enter the code!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"color"},t("color",{rules:[{required:!0,message:"Please enter the color!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"environment"},t("environment",{rules:[{required:!0,message:"Please enter the environment!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"finish"},t("finish",{rules:[{required:!0,message:"Please enter the finish!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"material"},t("material",{rules:[{required:!0,message:"Please enter the material!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"shape"},t("shape",{rules:[{required:!0,message:"Please enter the shape!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"size"},t("size",{rules:[{required:!0,message:"Please enter the size!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"style"},t("style",{rules:[{required:!0,message:"Please enter the style!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"type"},t("type",{rules:[{required:!0,message:"Please enter the type!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"unit"},t("unit",{rules:[{required:!0,message:"Please enter the unit!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u989c\u8272"},t("color_cn",{rules:[{required:!0,message:"Please enter the \u989c\u8272!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u9002\u7528\u573a\u666f"},t("environment_cn",{rules:[{required:!0,message:"Please enter the \u9002\u7528\u573a\u666f!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u6750\u6599\u9762"},t("finish_cn",{rules:[{required:!0,message:"Please enter the \u6750\u6599\u9762!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u6750\u6599"},t("material_cn",{rules:[{required:!0,message:"Please enter the \u6750\u6599!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u5f62\u72b6"},t("shape_cn",{rules:[{required:!0,message:"Please enter the \u5f62\u72b6!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u5927\u5c0f"},t("size_cn",{rules:[{required:!0,message:"Please enter the \u5927\u5c0f!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u98ce\u683c"},t("style_cn",{rules:[{required:!0,message:"Please enter the \u98ce\u683c!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u7c7b\u578b"},t("type_cn",{rules:[{required:!0,message:"Please enter the \u7c7b\u578b!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u5355\u4f4d"},t("unit_cn",{rules:[{required:!0,message:"Please enter the \u5355\u4f4d!"}]})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[],rules:[{required:!0,message:"Please upload the Image!"}]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},4!==this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))))}}]),t}(n.Component)),Xt=g.a.create({name:"edit_product_modal"})(function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a.state={imageFileList:[]},a.onCancel=function(){a.props.hideModal()},a.HandlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){var n=new FormData;if(Object.keys(t).forEach((function(e){console.log(e),"image"!==e&&n.append(e,t[e])})),n.append("product_category_id",a.props.productCategoryId),0!==t.image.length)if(t.image[0].response.is_success){var i=t.image.map((function(e){return e.response.data}));n.append("image",i)}else n.append("image",a.props.values.image);else n.append("image",a.props.values.image);n.append("price","contact us"),n.append("price_cn","\u8054\u7cfb\u6211\u4eec"),a.props.updateProduct(a.props.values.id,n,(function(){a.props.form.resetFields()})),a.setState({imageFileList:[]})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(Se.a,{visible:this.props.visible,title:"Edit ".concat(this.props.values.code," Information"),okText:"Update",width:1e3,style:{top:0},onCancel:function(){e.onCancel(),e.setState({imageFileList:[]})},onOk:this.HandlerSubmit,confirmLoading:this.props.isLoading,destroyOnClose:!0},i.a.createElement(g.a,{layout:"vertical"},i.a.createElement(ke.a,{type:"flex",justify:"space-around"},i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"code"},t("code",{rules:[{required:!0,message:"Please enter the code!"}],initialValue:this.props.values.code})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"color"},t("color",{rules:[{required:!0,message:"Please enter the color!"}],initialValue:this.props.values.color})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"environment"},t("environment",{rules:[{required:!0,message:"Please enter the environment!"}],initialValue:this.props.values.environment})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"finish"},t("finish",{rules:[{required:!0,message:"Please enter the finish!"}],initialValue:this.props.values.finish})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"material"},t("material",{rules:[{required:!0,message:"Please enter the material!"}],initialValue:this.props.values.material})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"shape"},t("shape",{rules:[{required:!0,message:"Please enter the shape!"}],initialValue:this.props.values.shape})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"size"},t("size",{rules:[{required:!0,message:"Please enter the size!"}],initialValue:this.props.values.size})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"style"},t("style",{rules:[{required:!0,message:"Please enter the style!"}],initialValue:this.props.values.style})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"type"},t("type",{rules:[{required:!0,message:"Please enter the type!"}],initialValue:this.props.values.type})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"unit"},t("unit",{rules:[{required:!0,message:"Please enter the unit!"}],initialValue:this.props.values.unit})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u989c\u8272"},t("color_cn",{rules:[{required:!0,message:"Please enter the \u989c\u8272!"}],initialValue:this.props.values.color_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u9002\u7528\u573a\u666f"},t("environment_cn",{rules:[{required:!0,message:"Please enter the \u9002\u7528\u573a\u666f!"}],initialValue:this.props.values.environment_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u6750\u6599\u9762"},t("finish_cn",{rules:[{required:!0,message:"Please enter the \u6750\u6599\u9762!"}],initialValue:this.props.values.finish_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u6750\u6599"},t("material_cn",{rules:[{required:!0,message:"Please enter the \u6750\u6599!"}],initialValue:this.props.values.material_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u5f62\u72b6"},t("shape_cn",{rules:[{required:!0,message:"Please enter the \u5f62\u72b6!"}],initialValue:this.props.values.shape_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u5927\u5c0f"},t("size_cn",{rules:[{required:!0,message:"Please enter the \u5927\u5c0f!"}],initialValue:this.props.values.size_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u98ce\u683c"},t("style_cn",{rules:[{required:!0,message:"Please enter the \u98ce\u683c!"}],initialValue:this.props.values.style_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u7c7b\u578b"},t("type_cn",{rules:[{required:!0,message:"Please enter the \u7c7b\u578b!"}],initialValue:this.props.values.type_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"\u5355\u4f4d"},t("unit_cn",{rules:[{required:!0,message:"Please enter the \u5355\u4f4d!"}],initialValue:this.props.values.unit_cn})(i.a.createElement(f.a,null)))),i.a.createElement(Pe.a,{span:9},i.a.createElement(g.a.Item,{label:"image"},t("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},4!==this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null)))))))}}]),t}(n.Component)),Zt=function(e){return i.a.createElement(Se.a,{title:"Image Preview",visible:e.visible,onCancel:e.hideModal,onOk:e.hideModal},e.image?e.image.map((function(e){return i.a.createElement("a",{href:e},i.a.createElement("img",{style:{width:300,height:300},src:e,alt:""}))})):null)},ea=f.a.Search,ta=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={title:"",isLoading:!1,data:[],dataShown:[],searchValue:"",AddProductModalVisible:!1,EditProductModalVisible:!1,DeleteProductModalVisible:!1,ProductPreviewModalVisible:!1,SelectImage:[],productDelete:{code:"",id:""},passToModal:{id:"",code:"",image:"",color:"",environment:"",finish:"",material:"",price:"",shape:"",size:"",style:"",type:"",unit:"",color_cn:"",environment_cn:"",finish_cn:"",material_cn:"",price_cn:"",shape_cn:"",size_cn:"",style_cn:"",type_cn:"",unit_cn:""}},a.hideProductAddModal=function(){a.setState({AddProductModalVisible:!1})},a.openProductAddModal=function(){a.setState({AddProductModalVisible:!0})},a.UpdateProductHandler=function(e,t,n){a.setState({isLoading:!0}),R(e,t).then((function(e){a.setState({isLoading:!1},(function(){a.setState({data:e.data,dataShown:e.data,EditProductModalVisible:!1}),n()}))})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.AddProductHandler=function(e,t){a.setState({isLoading:!0}),H(e).then((function(e){a.setState({isLoading:!1},(function(){a.setState({data:e.data,dataShown:e.data,AddProductModalVisible:!1}),t()}))})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.hideProductEditModal=function(){a.setState({EditProductModalVisible:!1})},a.openProductEditModal=function(e){a.setState({passToModal:{id:e._id.$oid,code:e.code,image:e.image,color:e.color,environment:e.environment,finish:e.finish,material:e.material,price:e.price,shape:e.shape,size:e.size,style:e.style,type:e.type,unit:e.unit,color_cn:e.color_cn,environment_cn:e.environment_cn,finish_cn:e.finish_cn,material_cn:e.material_cn,price_cn:e.price_cn,shape_cn:e.shape_cn,size_cn:e.size_cn,style_cn:e.style_cn,type_cn:e.type_cn,unit_cn:e.unit_cn},EditProductModalVisible:!0})},a.hideProductPreviewModal=function(){a.setState({ProductPreviewModalVisible:!1})},a.openProductPreviewModal=function(e){a.setState({SelectImage:e},(function(){a.setState({ProductPreviewModalVisible:!0})}))},a.componentWillUnmount=function(){a.setState=function(e){}},a.SearchOnChangeHandler=function(e){var t=e.target.value,n=a.state.data.filter((function(e){return e.code.toLowerCase().includes(t.toLowerCase())}));a.setState({dataShown:n,searchValue:t})},a.componentDidMount=function(){a.setState({isLoading:!0});var e=a.props.match.params.productCategoryId;x(e).then((function(t){a.setState({title:t.data.name},(function(){q(e).then((function(e){a.setState({isLoading:!1},(function(){a.setState({data:e.data,dataShown:e.data})}))})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))}))})).catch((function(e){a.props.history.push("/dashboard/productcategory")}))},a.hideDeleteProductModal=function(){a.setState({DeleteProductModalVisible:!1})},a.OpenDeleteProductModal=function(e){a.setState({DeleteProductModalVisible:!0,productDelete:{code:e.code,id:e._id.$oid}})},a.ConfirmDeleteHandler=function(){a.setState({isLoading:!0}),G(a.state.productDelete.id).then((function(e){a.setState({data:e.data,dataShown:e.data,isLoading:!1,DeleteProductModalVisible:!1})})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(n.Fragment,null,i.a.createElement(Oe,{title:this.state.title},i.a.createElement(Et.a,{style:{top:250},tip:"Loading...",spinning:this.state.isLoading},i.a.createElement(ke.a,{style:{marginBottom:20}},i.a.createElement(Pe.a,{span:8},i.a.createElement(E.a,{onClick:function(){e.props.history.push("/dashboard/productcategory")},type:"primary"},i.a.createElement(b.a,{type:"left"}),"Go back")),i.a.createElement("div",{style:{float:"right"}},i.a.createElement(ea,{placeholder:"Search By Code or Name...",onChange:this.SearchOnChangeHandler,style:{width:300},value:this.state.searchValue}),i.a.createElement(E.a,{onClick:this.openProductAddModal,type:"primary"},"Add Product"))),i.a.createElement(ke.a,{gutter:[0,20]},this.state.dataShown.map((function(t,a){return i.a.createElement(Pe.a,{key:a.toString(),span:8},i.a.createElement(Ft.a,{title:t.code,style:{width:300},extra:i.a.createElement(n.Fragment,null,i.a.createElement("a",{style:{marginRight:10},onClick:function(){e.OpenDeleteProductModal(t)}},"Delete"),i.a.createElement("a",{onClick:function(){e.openProductEditModal(t)}},"Edit"))},i.a.createElement("a",{onClick:function(){e.openProductPreviewModal(t.image)}},i.a.createElement("img",{style:{width:"100%",height:"150px"},alt:"",src:"".concat(t.image[0])}))))}))))),i.a.createElement(Jt,{visible:this.state.AddProductModalVisible,productCategoryId:this.props.match.params.productCategoryId,isLoading:this.state.isLoading,hideModal:this.hideProductAddModal,AddProduct:this.AddProductHandler}),i.a.createElement(Xt,{visible:this.state.EditProductModalVisible,hideModal:this.hideProductEditModal,isLoading:this.state.isLoading,values:this.state.passToModal,productCategoryId:this.props.match.params.productCategoryId,updateProduct:this.UpdateProductHandler}),i.a.createElement(Ot,{title:"Delete Confirmation",visible:this.state.DeleteProductModalVisible,confirm:this.ConfirmDeleteHandler,hideModal:this.hideDeleteProductModal,isLoading:this.state.isLoading,text:"Are sure to delete ".concat(this.state.productDelete.code)}),i.a.createElement(Zt,{visible:this.state.ProductPreviewModalVisible,hideModal:this.hideProductPreviewModal,image:this.state.SelectImage}))}}]),t}(n.Component),aa=Object(ie.g)(ta),na=a(76),ia=a.n(na),la=a(77),oa=a.n(la),ra=function e(t){var a=this;Object(r.a)(this,e),this.upload=function(){return a.loader.file.then((function(e){return new Promise((function(t,a){var n=new FileReader;n.onloadend=function(){t({default:n.result})},n.readAsDataURL(e)}))}))},this.loader=t},sa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={content:"",content_cn:"",isLoading:!1},a.EditorOnChange=function(e,t){var n=t.getData();a.setState({content:n})},a.EditorCNOnchange=function(e,t){var n=t.getData();a.setState({content_cn:n})},a.ConfirmHandler=function(){var e=a.state,t=e.content,n=e.content_cn;a.props.ContentConfirmClick({content:t,content_cn:n})},a.ModalConfirmHandler=function(){var e=a.props.NewsData,t=e.newsTitle,n=e.newsContent,i=Object(Ye.a)({},t,{},n),l=new FormData;Object.keys(i).forEach((function(e){l.append(e,i[e])})),a.setState({isLoading:!0}),W(l).then((function(e){a.setState({isLoading:!1},(function(){a.props.FinishPublish()})),console.log(e)})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h3",null,"Content"),i.a.createElement(ia.a,{editor:oa.a,onInit:function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new ra(e)}},onChange:function(t,a){return e.EditorOnChange(t,a)},config:{toolbar:["heading","|","align","bold","italic","|","link","imageUpload","|","bulletedList","numberedList","blockQuote","|","undo","redo"]}}),i.a.createElement("h3",{style:{paddingTop:30}},"\u5185\u5bb9"),i.a.createElement(ia.a,{editor:oa.a,onInit:function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new ra(e)}},onChange:function(t,a){return e.EditorCNOnchange(t,a)},config:{toolbar:["heading","|","align","bold","italic","|","link","imageUpload","|","bulletedList","numberedList","blockQuote","|","undo","redo"]}}),i.a.createElement(E.a,{onClick:this.props.ContentStepBackClick,style:{marginTop:15,marginRight:15},type:"primary"},"Back"),i.a.createElement(E.a,{onClick:this.ConfirmHandler,style:{marginTop:15},type:"primary"},"Publish"),i.a.createElement(Ot,{title:"Publish Confirmation",visible:this.props.NewsData.finalConfirmModalVisible,confirm:this.ModalConfirmHandler,hideModal:this.props.CloseFinalConfirmModal,isLoading:this.state.isLoading,text:"Are you sure to publish this news?"}))}}]),t}(n.Component),ca=Object(pe.b)((function(e){return{NewsData:e.NewsReducer}}),(function(e){return{ContentStepBackClick:function(){e({type:"ContentStepBackClick"})},ContentConfirmClick:function(t){e(function(e){return{type:"ContentConfirmClick",payload:e}}(t))},CloseFinalConfirmModal:function(){e({type:"CloseFinalConfirmModal"})},FinishPublish:function(){e({type:"FinishPublish"})}}}))(sa),da=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={imageFileList:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n={title:t.title,title_cn:t.title_cn,image:""};0!==t.image.length&&t.image[0].response.is_success&&(n.image=t.image[0].response.data),a.props.TitleStepNextClick(n)}}))},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement(g.a,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.handleSubmit},i.a.createElement(g.a.Item,{label:"Title"},e("title",{rules:[{required:!0,message:"Please input your title!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u6807\u9898"},e("title_cn",{rules:[{required:!0,message:"Please input your \u6807\u9898!"}]})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"Title Image"},e("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[],rules:[{required:!0,message:"Please upload image!"}]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null))),i.a.createElement(g.a.Item,{wrapperCol:{span:12,offset:5}},i.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Next Step")))}}]),t}(n.Component),ua=g.a.create({name:"news_title_form"})(da),ma=Object(pe.b)((function(e){return{NewsData:e.NewsReducer}}),(function(e){return{TitleStepNextClick:function(t){e(function(e){return{type:"TitleStepNextClick",payload:e}}(t))}}}))(ua),pa=a(682),ha=a(684),ga=Object(pe.b)((function(e){return{NewsData:e.NewsReducer}}),(function(e){return{ResetAll:function(){e({type:"ResetAll"})}}}))((function(e){return i.a.createElement(ha.a,{icon:i.a.createElement(b.a,{type:"smile",theme:"twoTone"}),title:"Great, we have done all the operations!",extra:i.a.createElement(E.a,{onClick:function(){window.location="/dashboard/publish"},type:"primary"},"Keep adding News")})})),fa=pa.a.Step,ba=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={pos:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(Oe,{title:this.props.name},i.a.createElement("div",{style:{paddingBottom:50}},i.a.createElement(pa.a,{progressDot:!0,current:this.state.pos},i.a.createElement(fa,{title:"First Step",description:"news title and image"}),i.a.createElement(fa,{title:"Second Step",description:"content of the news"}),i.a.createElement(fa,{title:"Finished",description:"Finished"}))),i.a.createElement("div",{style:{display:0===this.state.pos?"block":"none"}},i.a.createElement(ma,null)),i.a.createElement("div",{style:{display:1===this.state.pos?"block":"none"}},i.a.createElement(ca,null)),i.a.createElement("div",{style:{display:2===this.state.pos?"block":"none"}},i.a.createElement(ga,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.NewsData.stepPosition!==t.pos?Object(Ye.a)({},t,{pos:e.NewsData.StepPosition}):null}}]),t}(n.Component),Ea=Object(pe.b)((function(e){return{NewsData:e.NewsReducer}}))(ba),ya=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={isLoading:!1,data:[],DeleteModalVisible:!1,DeleteNewsTitleId:""},a.componentDidMount=function(){a.setState({isLoading:!0}),$().then((function(e){a.setState({isLoading:!1,data:e.data})})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.DeleteHandler=function(){a.setState({isLoading:!0}),K(a.state.DeleteNewsTitleId).then((function(e){a.setState({isLoading:!1,data:e.data,DeleteModalVisible:!1})})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.DeleteModalOpen=function(e){a.setState({DeleteNewsTitleId:e,DeleteModalVisible:!0})},a.componentWillUnmount=function(){a.setState=function(e){}},a.EditClickHandler=function(e){var t="/dashboard/newsedit/"+e;a.props.history.push(t)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(Oe,{title:this.props.name},i.a.createElement(Et.a,{style:{top:250},tip:"Loading...",spinning:this.state.isLoading},this.state.data.map((function(t,a){return i.a.createElement(ke.a,{key:a.toString(),style:{marginBottom:30}},i.a.createElement(Pe.a,{span:2,style:{marginRight:20}},i.a.createElement("a",{onClick:function(){e.EditClickHandler(t._id.$oid)}},"Edit"),i.a.createElement("br",null),i.a.createElement("a",{onClick:function(){e.DeleteModalOpen(t._id.$oid)}},"Delete")),i.a.createElement(Pe.a,{style:{marginRight:20},span:4},i.a.createElement("img",{style:{width:"100%",height:"150px"},src:t.image,alt:""})),i.a.createElement(Pe.a,{span:14},i.a.createElement("label",null,i.a.createElement("strong",null,"Title")),i.a.createElement("p",null,t.title),i.a.createElement("label",null,i.a.createElement("strong",null,"\u6807\u9898")),i.a.createElement("p",null,t.title_cn)))}))),i.a.createElement(Ot,{title:"Delete Confirmation",visible:this.state.DeleteModalVisible,confirm:this.DeleteHandler,hideModal:function(){e.setState({DeleteModalVisible:!1})},isLoading:this.state.isLoading,text:"Are you sure to Delete?"}))}}]),t}(n.Component),va=Object(ie.g)(ya),Sa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={imageFileList:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n={title:t.title,title_cn:t.title_cn,image:a.props.image};0!==t.image.length&&t.image[0].response.is_success&&(n.image=t.image[0].response.data),a.props.submit(n)}}))},a.imageFile=function(e){return a.setState({imageFileList:e.fileList}),Array.isArray(e)?e:e&&e.fileList},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement(g.a,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.handleSubmit},i.a.createElement(g.a.Item,{label:"Title"},e("title",{rules:[{required:!0,message:"Please input your title!"}],initialValue:this.props.title})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"\u6807\u9898"},e("title_cn",{rules:[{required:!0,message:"Please input your \u6807\u9898!"}],initialValue:this.props.title_cn})(i.a.createElement(f.a,null))),i.a.createElement(g.a.Item,{label:"Title Image"},e("image",{valuePropName:"image",getValueFromEvent:this.imageFile,initialValue:[]})(i.a.createElement(Ct.a,{action:V,name:"image",listType:"picture"},0===this.state.imageFileList.length?i.a.createElement(E.a,null,i.a.createElement(b.a,{type:"upload"})," Click to upload"):null))),i.a.createElement(g.a.Item,{wrapperCol:{span:12,offset:5}},i.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Next Step")))}}]),t}(n.Component),Ca=g.a.create({name:"news_edit_form"})(Sa),wa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={modalVisible:!1,content:"",content_cn:""},a.EditorOnChange=function(e,t){var n=t.getData();a.setState({content:n})},a.EditorCNOnchange=function(e,t){var n=t.getData();a.setState({content_cn:n})},a.ConfirmHandler=function(){a.setState({modalVisible:!0},(function(){a.props.ConfirmContent({content:a.state.content,content_cn:a.state.content_cn})}))},a.ModalConfirmHandler=function(){a.props.EditConfirm((function(){a.setState({modalVisible:!1},(function(){}))}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h3",null,"Content"),i.a.createElement(ia.a,{data:this.props.content,editor:oa.a,onInit:function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new ra(e)}},onChange:function(t,a){return e.EditorOnChange(t,a)},config:{toolbar:["heading","|","align","bold","italic","|","link","imageUpload","|","bulletedList","numberedList","blockQuote","|","undo","redo"]}}),i.a.createElement("h3",{style:{paddingTop:30}},"\u5185\u5bb9"),i.a.createElement(ia.a,{data:this.props.content_cn,editor:oa.a,onInit:function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new ra(e)}},onChange:function(t,a){return e.EditorCNOnchange(t,a)},config:{toolbar:["heading","|","align","bold","italic","|","link","imageUpload","|","bulletedList","numberedList","blockQuote","|","undo","redo"]}}),i.a.createElement(E.a,{onClick:this.props.StepBack,style:{marginTop:15,marginRight:15},type:"primary"},"Back"),i.a.createElement(E.a,{onClick:this.ConfirmHandler,style:{marginTop:15},type:"primary"},"Edit"),i.a.createElement(Ot,{title:"Edit Confirmation",visible:this.state.modalVisible,confirm:this.ModalConfirmHandler,hideModal:function(){e.setState({modalVisible:!1})},isLoading:this.props.isLoading,text:"Are you sure to Edit this news?"}))}}]),t}(n.Component),La=Object(pe.b)((function(e){return{}}),(function(e){return{ConfirmContent:function(t){e(function(e){return{type:"ConfirmContent",payload:e}}(t))},ResetAll:function(){e({type:"ResetAll"})}}}))(wa),_a=pa.a.Step,Oa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={isLoading:!1,data:{title:"",title_cn:"",news_title_id:"",content_cn:"",content:"",news_content_id:"",image:""},pos:0},a.componentDidMount=function(){var e=a.props.match.params.newsTitleId;a.setState({isLoading:!0}),Y(e).then((function(e){a.setState({data:{title:e.data.news_title.title,title_cn:e.data.news_title.title_cn,news_title_id:e.data.news_title_id,content_cn:e.data.content_cn,content:e.data.content,news_content_id:e.data._id,image:e.data.news_title.image},isLoading:!1})})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.componentWillUnmount=function(){a.props.ResetAll(),a.setState=function(e){}},a.EditConfirm=function(e){var t=new FormData;Object.keys(a.state.data).forEach((function(e){t.append(e,a.state.data[e])})),a.setState({isLoading:!0}),Q(t).then((function(t){a.setState({isLoading:!1,pos:2}),e()})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},a.NewsEditFormSubmit=function(e){a.setState({data:Object(Ye.a)({},a.state.data,{title:e.title,title_cn:e.title_cn,image:e.image}),pos:1})},a.StepBack=function(){a.setState({pos:0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){this.setState({data:Object(Ye.a)({},this.state.data,{content:e.ContentData.content,content_cn:e.ContentData.content_cn})})}},{key:"render",value:function(){var e=this;return i.a.createElement(Oe,{title:this.props.name},i.a.createElement(Et.a,{style:{top:250},tip:"Loading...",spinning:this.state.isLoading},i.a.createElement(E.a,{onClick:function(){e.props.history.push("/dashboard/news")},type:"primary"},i.a.createElement(b.a,{type:"left"}),"Go back"),i.a.createElement("div",{style:{marginTop:50}},i.a.createElement(pa.a,{progressDot:!0,current:this.state.pos},i.a.createElement(_a,{title:"First Step",description:"news title and image"}),i.a.createElement(_a,{title:"Second Step",description:"content of the news"}),i.a.createElement(_a,{title:"Finished",description:"Finished"}))),i.a.createElement("div",{style:{display:0===this.state.pos?"block":"none"}},i.a.createElement(Ca,{submit:this.NewsEditFormSubmit,image:this.state.data.image,title:this.state.data.title,title_cn:this.state.data.title_cn})),i.a.createElement("div",{style:{display:1===this.state.pos?"block":"none"}},i.a.createElement(La,{content:this.state.data.content,content_cn:this.state.data.content_cn,EditConfirm:this.EditConfirm,StepBack:this.StepBack,isLoading:this.state.isLoading})),i.a.createElement("div",{style:{display:2===this.state.pos?"block":"none"}},i.a.createElement(ha.a,{icon:i.a.createElement(b.a,{type:"smile",theme:"twoTone"}),title:"Great, we have done all the operations!",extra:i.a.createElement(E.a,{onClick:function(){window.location="/dashboard/news"},type:"primary"},"See All News")}))))}}]),t}(n.Component),ka=Object(pe.b)((function(e){return{ContentData:e.NewsEditReducer}}),(function(e){return{ResetAll:function(){return e({type:"ResetAll"})}}}))(Oa),Pa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={content:"",subject:"",isLoading:!1,confirmModalVisible:!1,test_email:""},a.EditorOnChange=function(e,t){var n=t.getData();a.setState({content:n})},a.SubjectOnChange=function(e){a.setState({subject:e.target.value})},a.SendToAllButtonClickHandler=function(){a.setState({confirmModalVisible:!0})},a.ConfirmHandler=function(){var e=new FormData;e.append("subject",a.state.subject),e.append("content",a.state.content),a.setState({isLoading:!0}),te(e).then((function(e){a.setState({isLoading:!1},(function(){alert(e.data),window.location.reload()}))})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))},a.TemplateTestSend=function(){if(!(""===a.state.test_email||a.state.test_email.length<=5)){var e=new FormData;e.append("subject",a.state.subject),e.append("content",a.state.content),e.append("target_email",a.state.test_email),a.setState({isLoading:!0}),ae(e).then((function(e){a.setState({isLoading:!1},(function(){alert(e.data)}))})).catch((function(e){console.log(e),a.setState({isLoading:!1})}))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Oe,{title:this.props.name},i.a.createElement("div",{style:{paddingBottom:30}},i.a.createElement("h3",null,"Email Subject"),i.a.createElement(f.a,{onChange:this.SubjectOnChange,placeholder:"Enter the email subject",value:this.state.subject})),i.a.createElement("div",null,i.a.createElement("h3",null,"Email Content"),i.a.createElement(ia.a,{editor:oa.a,onInit:function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new ra(e)}},onChange:function(t,a){return e.EditorOnChange(t,a)},config:{toolbar:["heading","|","align","bold","italic","|","link","|","bulletedList","numberedList","blockQuote","|","undo","redo"]}})),i.a.createElement("div",{style:{paddingTop:30}},i.a.createElement(f.a,{onChange:function(t){e.setState({test_email:t.target.value})},value:this.state.test_email,placeholder:"Enter the email recipient to test template ..."}),i.a.createElement(E.a,{onClick:this.TemplateTestSend,loading:this.state.isLoading,style:{marginTop:10},type:"primary"},"Send")),i.a.createElement("div",{style:{paddingTop:30}},i.a.createElement(E.a,{onClick:this.SendToAllButtonClickHandler,disabled:this.state.isLoading,type:"primary"},"Send To All"))),i.a.createElement(Ot,{title:"Email Sending Confirmation",visible:this.state.confirmModalVisible,confirm:this.ConfirmHandler,hideModal:function(){e.setState({confirmModalVisible:!1})},isLoading:this.state.isLoading,text:"Are you sure to send this email to all the local client?"}))}}]),t}(n.Component),Ma="/dashboard",Da=[{name:"Home",component:Ke,path:Ma+"/home",pos:0},{name:"Lottery Management",component:st,path:Ma+"/lotterymanagement",pos:1},{name:"Web Client",component:dt,path:Ma+"/webclient",pos:2},{name:"Local Client",component:bt,path:Ma+"/localclient",pos:3},{name:"Staff Information",component:Pt,path:Ma+"/staffinfo",pos:4},{name:"Company Description",component:It,path:Ma+"/companydescription",pos:5},{name:"Brand",component:Ht,path:Ma+"/brand",pos:6},{name:"Product Category",component:$t,path:Ma+"/productcategory",pos:7},{name:"Change Password",component:Qt,path:Ma+"/changepassword",pos:null},{name:"Product",component:aa,path:Ma+"/product/:productCategoryId",pos:null},{name:"Publish News",component:Ea,path:Ma+"/publish",pos:8},{name:"News Information",component:va,path:Ma+"/news",pos:9},{name:"News Edit",component:ka,path:Ma+"/newsedit/:newsTitleId",pos:null},{name:"Email",component:Pa,path:Ma+"/email",pos:10}],ja=[{name:"Home",component:Ke,icon:"home",path:Ma+"/home",pos:0},{name:"Lottery Management",component:st,icon:"smile",path:Ma+"/lotterymanagement",pos:1},{name:"Web Management",icon:"global",key:"sub1",items:[{name:"Web Client",component:dt,icon:"contacts",path:Ma+"/webclient",pos:2},{name:"Staff Info",component:Pt,icon:"team",path:Ma+"/staffinfo",pos:4},{name:"About",component:It,icon:"info",path:Ma+"/companydescription",pos:5},{name:"Brand",component:Ht,icon:"folder",path:Ma+"/brand",pos:6},{name:"Product",component:$t,icon:"shop",path:Ma+"/productcategory",pos:7},{name:"Publish",component:Ea,icon:"form",path:Ma+"/publish",pos:8},{name:"News Info",component:va,icon:"bulb",path:Ma+"/news",pos:9}]},{name:"Local Management",icon:"calendar",key:"sub2",items:[{name:"Local Client",component:bt,icon:"user",path:Ma+"/localclient",pos:3},{name:"Email",component:Pa,icon:"mail",path:Ma+"/email",pos:10}]}],Ia=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,689))})),Fa=function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e)),D().then((function(e){console.log("token \u6ca1\u8fc7\u671f")})),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(n.Suspense,{fallback:i.a.createElement("div",null,"Loading ...")},i.a.createElement(Ia,{screens:ja},i.a.createElement(ie.d,null,Da.map((function(t,a){return i.a.createElement(ie.b,{key:a.toString(),path:t.path,component:me(t.component,e.props.SetPos,t.pos,t.name)})})),i.a.createElement(ie.b,{path:"".concat(this.props.match.path,"/"),component:he}),i.a.createElement(ie.a,{from:"*",to:"/404"}))))}}]),t}(n.Component),Aa=Object(pe.b)((function(e){return{menuBarPos:e.menuBarReducer}}),(function(e){return{SetPos:function(t){e(function(e){return{type:"SetPos",payload:e}}(t))}}}))(Object(ie.g)(Fa)),Ta=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){localStorage.getItem("token")?a.props.history.push("/dashboard"):a.props.history.push("/login")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,"Loading ...")}}]),t}(n.Component),Va=Object(ie.g)(Ta),xa=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(se.a,null,i.a.createElement(ie.d,null,i.a.createElement(ie.b,{exact:!0,path:"/404",component:ce}),i.a.createElement(ie.b,{path:"/",exact:!0,component:Va}),i.a.createElement(ie.b,{path:"/login",component:re}),i.a.createElement(ue,{path:"/dashboard",component:Aa}),i.a.createElement(ie.a,{from:"*",to:"/404"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ba=a(89),Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetPos":return t.payload;default:return e}},qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setData":return t.payload;default:return e}},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setData":return t.payload;default:return e}},Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setData":return t.payload;default:return e}},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setData":return t.payload;default:return e}},za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BeforeFetchData":return{isLoading:!0,data:[]};case"FetchDataSuccess":return{isLoading:!1,data:t.payload};case"FetchDataFail":var a=e.data;return{isLoading:!1,data:a};default:return e}},Ga={newsTitle:{title:"",title_cn:"",image:""},newsContent:{content:"",content_cn:""},stepPosition:0,finalConfirmModalVisible:!1},Wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TitleStepNextClick":return{newsTitle:t.payload,StepPosition:1,newsContent:e.newsContent,finalConfirmModalVisible:!1};case"ContentStepBackClick":return{newsTitle:e.newsTitle,StepPosition:0,newsContent:e.newsContent,finalConfirmModalVisible:!1};case"ContentConfirmClick":return{newsTitle:e.newsTitle,StepPosition:1,newsContent:t.payload,finalConfirmModalVisible:!0};case"CloseFinalConfirmModal":return{newsTitle:e.newsTitle,StepPosition:1,newsContent:e.payload,finalConfirmModalVisible:!1};case"FinishPublish":return Object(Ye.a)({},Ga,{StepPosition:2});case"ResetAll":return Object(Ye.a)({},Ga);default:return e}},$a={content:"",content_cn:""},Ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ConfirmContent":return{content:t.payload.content,content_cn:t.payload.content_cn};case"ResetAll":return $a;default:return e}},Ya=Object(Ba.c)({menuBarReducer:Na,lotteryReducer:qa,localClientReducer:Ha,StaffInfoReducer:Ra,BrandReducer:Ua,ProductCategoryReducer:za,NewsReducer:Wa,NewsEditReducer:Ka}),Qa=a(332),Ja=Object(Ba.d)(Ya,Object(Ba.a)(Qa.a));o.a.render(i.a.createElement(pe.a,{store:Ja},i.a.createElement(xa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[334,1,2]]]);
//# sourceMappingURL=main.a126f734.chunk.js.map